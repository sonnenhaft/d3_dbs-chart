(this["webpackJsonpdbs-chart"]=this["webpackJsonpdbs-chart"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),u=n.n(c),o=(n(14),n(5)),l=n(3),i=(n(15),[{key:"visa",value:"Visa",color:"#ff6384"},{key:"american_express",value:"American Express",color:"#36a2eb"},{key:"paylah",value:"DBS PayLah",color:"#ffce56"}]),s=i,d=i.reduce((function(e,t){var n=t.key,a=t.value;return e[n]=a,e}),{}),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return{type:e||i[Math.floor(3*Math.random())].key,amount:t-Math.floor(Math.random()*t)}},m=(n(16),function(e){var t=e.onTransactionAdded,n=Object(a.useState)(f()),c=Object(l.a)(n,2),u=c[0],o=u.type,i=u.amount,d=c[1],m=function(){return t({amount:i,type:o})};return r.a.createElement("div",{className:"transactions-header"},r.a.createElement("div",{className:"transactions-header__labels"},s.map((function(e){var t=e.key,n=e.value;return r.a.createElement("label",{key:t},r.a.createElement("input",{type:"radio",value:t,checked:o===t,onChange:function(){return d({type:t,amount:i})}}),n)}))),r.a.createElement("div",null,r.a.createElement("label",null,"Amount"),r.a.createElement("input",{type:"number",placeholder:"Type amount here",onChange:function(e){return d({amount:e.target.value,type:o})},onKeyUp:function(e){return"Enter"===e.key&&m()},value:i})),r.a.createElement("div",null,r.a.createElement("button",{onClick:m},"Send")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e=f();d(e),t(e)}},"Send random")))}),p=n(4),v=n.n(p),y=s.map((function(e){return e.key})),b=[50,100,200,300,500,1e3,1001],E=b.slice();E[E.length-1]="1000+";var h=b.reverse(),j=function(e){var t=e.data,n=Object(a.useRef)(null),c=Object(a.useState)(null),u=Object(l.a)(c,2),o=u[0],i=u[1];return Object(a.useEffect)((function(){var e,t,a=(e=n.current,t=E,new v.a(e.getContext("2d"),{type:"line",data:{labels:t,datasets:s.map((function(e){return{label:e.value,backgroundColor:e.color,borderColor:e.color,data:[],fill:!1}}))},options:{title:{display:!0,text:"Transactions rounded to range values"},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Transaction"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Transactions count"}}]}}}));return i(a),function(){return a.destroy()}}),[]),Object(a.useEffect)((function(){o&&(y.map((function(e){return t.filter((function(t){return t.type===e})).map((function(e){return e.amount}))})).forEach((function(e,t){return o.data.datasets[t].data=e.sort().reverse().reduce((function(e,t){return e[h.findIndex((function(e){return e<=t}))]++,e}),h.slice().map((function(){return 0}))).reverse()})),o.update())}),[t,o]),r.a.createElement("canvas",{ref:n})},k=s.map((function(e){return e.key})),O=function(e){var t=e.data,n=Object(a.useRef)(null),c=Object(a.useState)(null),u=Object(l.a)(c,2),o=u[0],i=u[1];return Object(a.useEffect)((function(){var e,t=(e=n.current,new v.a(e.getContext("2d"),{type:"pie",data:{datasets:[{data:[1,1,1],backgroundColor:s.map((function(e){return e.color}))}],labels:s.map((function(e){return e.value}))}}));return i(t),function(){return t.destroy()}}),[]),Object(a.useEffect)((function(){o&&(o.data.datasets[0].data=k.map((function(e){return t.filter((function(t){return t.type===e})).reduce((function(e,t){return e+t.amount}),0)})),o.update())}),[t,o]),r.a.createElement("canvas",{ref:n})},g=n(8),A=(n(21),function(e){var t=e.data,n=void 0===t?[]:t;return r.a.createElement(g.a,{defaultPageSize:14,data:n,columns:[{Header:"Type",accessor:"type",Cell:function(e){return d[e.value]}},{Header:"Amount",accessor:"amount"}]})}),x=function(){var e=Object(a.useState)((function(){return[].concat(Object(o.a)(Array.from(new Array(142)).map((function(){return f()}))),Object(o.a)(Array.from(new Array(8)).map((function(){return f("paylah",100)}))))})),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{onTransactionAdded:function(e){return c([e].concat(Object(o.a)(n)))}}),r.a.createElement("div",{className:"app-content"},r.a.createElement("div",null,r.a.createElement(A,{data:n})),r.a.createElement("div",{className:"app-charts"},r.a.createElement("div",null,r.a.createElement(j,{data:n})),r.a.createElement("div",null,r.a.createElement(O,{data:n})))))},C=document.getElementById("root");u.a.render(r.a.createElement(x,null),C)},9:function(e,t,n){e.exports=n(22)}},[[9,1,2]]]);
//# sourceMappingURL=main.ca3c96c5.chunk.js.map